(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{316:function(e,a,t){"use strict";var n=t(41),r=t(0),l=t.n(r),o=t(39),c=t(37),i=t(46),u=t(318),s=t.n(u);a.a=Object(o.f)(function(e){var a,t=Object(r.useState)({color:"blue"}),o=Object(n.a)(t,2),u=o[0],d=o[1],m=function(a){e.removeFromFavouritesHandler(e.id),d({color:"blue"})},f="blue"===u.color?function(a){return function(a){e.addToFavouritesHandler(a,e.place,e.longitude,e.latitude),d({color:"yellow"})}(a)}:function(e){return m()},g=e.loggedIn&&e.isFavourite?l.a.createElement("a",{href:"#",onClick:function(e){return m()}},l.a.createElement("span",null,l.a.createElement(c.a,{style:{color:"yellow"},icon:i.d}))):e.loggedIn?l.a.createElement("a",{href:"#",onClick:f},l.a.createElement("span",null,l.a.createElement(c.a,{style:{color:"blue"},icon:i.d}))):null;return l.a.createElement("div",{className:s.a.Location},l.a.createElement("div",{className:s.a.LocationImageInfo,onMouseOver:function(a){return e.onSelectLocation(e.longitude,e.latitude,e.place,a,e.history)},onClick:function(a){return e.onSelectLocation(e.longitude,e.latitude,e.place,a,e.history)}},l.a.createElement("img",{src:"https://www.meteoblue.com/website/images/flags/mk.svg",style:{height:"15px",width:"15px"}}),l.a.createElement("p",null,(a=e.place).length>32?a.substring(0,32).concat("..."):a),l.a.createElement("span",null," ",e.longitude.toFixed(2)," N ",e.latitude.toFixed(2)," E")),l.a.createElement("div",null,g))})},317:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(316),o=t(319),c=t.n(o);a.a=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:c.a.searchLocations},r.a.createElement("div",{className:c.a.VisitedLocations},r.a.createElement("h4",null,"true"===e.search?"Search":"Last Visited"),r.a.createElement("a",{href:"#",src:"",onClick:function(a){return e.deleteLastVisited(a)}},"true"===e.search?"":"Delete")),e.data.map(function(a){return r.a.createElement(l.a,Object.assign({key:a.id,place:a.place,matchingText:a.matchingText,user:e.user,loggedIn:e.loggedIn,longitude:a.longitude,latitude:a.latitude,onSelectLocation:e.onSelectLocation,addToFavouritesHandler:e.addToFavouritesHandler,removeFromFavouritesHandler:e.removeFromFavouritesHandler},function(a){var t=e.favData.find(function(e){return e.locationName===a});return{isFavourite:void 0!==t,id:t?t.favId:null}}(a.place)))})))}},318:function(e,a,t){e.exports={Location:"Location_Location__2a6k3",LocationImageInfo:"Location_LocationImageInfo__1IVr_"}},319:function(e,a,t){e.exports={searchLocations:"SearchLocations_searchLocations__-Yim8",VisitedLocations:"SearchLocations_VisitedLocations__Ajs_J"}},320:function(e,a,t){"use strict";var n=t(41),r=t(0),l=t.n(r),o=t(316),c=t(126),i=t(81),u=t(321),s=t.n(u);a.a=function(e){var a=Object(r.useState)(!1),t=Object(n.a)(a,2),u=t[0],d=t[1];Object(r.useEffect)(function(){return function(){return d(!1)}},e.loggedIn);var m=e.loggedIn?null:l.a.createElement(i.a,{className:s.a.Button,onClick:function(){return d(!0)},type:"primary",ghost:!0},"Login/SignUp"),f=e.loggedIn?null:l.a.createElement("p",null,"Sign up to save favourites");return!e.loggedIn&&u&&(m=l.a.createElement(c.a,{loggedIn:e.loggedIn,user:e.user,loginHandler:e.loginHandler,logoutHandler:e.logoutHandler,signUpHandler:e.signUpHandler,loginRegisterErrorMessage:e.loginRegisterErrorMessage,clearErrorMessageHandler:e.clearErrorMessageHandler,isLoading:e.isLoading,isMobile:e.isMobile,isOpen:u}),f=null),l.a.createElement("div",{className:s.a.favourites},l.a.createElement("h4",null,"Favourites"),f,l.a.createElement("div",{className:s.a.FavouriteLocations},e.favData.map(function(a){return l.a.createElement(o.a,{key:a.favId,id:a.favId,place:a.locationName,isFavourite:!0,user:e.user,loggedIn:e.loggedIn,longitude:a.longitude,latitude:a.latitude,onSelectLocation:e.onSelectLocation,removeFromFavouritesHandler:e.removeFromFavouritesHandler})})),m)}},321:function(e,a,t){e.exports={favourites:"Favourites_favourites__23lH1",FavouriteLocations:"Favourites_FavouriteLocations__2En8c"}},322:function(e,a,t){"use strict";var n=t(10),r=t(41),l=t(0),o=t(55),c=t(50);a.a=function(){var e=Object(l.useState)([]),a=Object(r.a)(e,2),t=a[0],i=a[1],u=Object(l.useContext)(o.a);return Object(l.useEffect)(function(){return u.user&&void 0!=u.user.email&&c.a.ref("favourites").orderByChild("uid").equalTo(u.user.uid).on("value",function(e){if(e.exists()){var a=e.val(),t=Object.keys(a).map(function(e){return Object(n.a)({favId:e},a[e])});i(t)}}),function(){u.user&&void 0!=u.user.email&&c.a.ref("favourites").orderByChild("uid").equalTo(u.user.uid).off()}},[u.user,u.loggedIn]),[t,i,u]}},330:function(e,a,t){e.exports={SearchAndFavouriteMobile:"SearchAndFavouriteMobile_SearchAndFavouriteMobile__2-ccQ"}},346:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(39),o=t(150),c=t(151),i=t(126),u=t(29),s=t(41),d=t(330),m=t.n(d),f=t(153),g=t(317),v=t(320),h=t(37),E=t(46),b=t(50),p=t(322),F=t(55),L=Object(l.f)(function(e){var a=Object(n.useState)("Search"),t=Object(s.a)(a,2),l=t[0],o=t[1],c=Object(p.a)(),i=Object(s.a)(c,3),u=i[0],d=i[1],L=i[2],y=(r.a.useContext(F.b),function(e){b.a.ref("/favourites").child("/"+e).remove();var a=u.filter(function(a){return a.favId!==e});d(a)}),S={height:"30px",width:"30px",color:"#264e73"},H="Search"===l?r.a.createElement(h.a,{style:S,onClick:function(){return o("Favourites")},icon:E.c}):r.a.createElement(h.a,{style:S,onClick:function(){return o("Search")},icon:E.d}),k=0===e.searchQuery.length?e.lastVisited:e.searchQuery,I=0===e.searchQuery.length?"false":"true",M="Search"===l?r.a.createElement(g.a,{data:k,favData:u,search:I,onSelectLocation:e.onSelectLocation,addToFavouritesHandler:function(e,a,t,n){if(e.preventDefault(),null!=L.user){var r={locationName:a,longitude:t,latitude:n,uid:L.user.uid};b.a.ref("favourites").orderByChild("locationName").equalTo(a).once("value",function(e){e.hasChildren()||e.ref.push(r).catch(function(e){return console.log(e)})})}},removeFromFavouritesHandler:y,user:L.user,loggedIn:L.loggedIn,deleteLastVisited:e.deleteLastVisited}):r.a.createElement(v.a,{user:L.user,favData:u,onSelectLocation:e.onSelectLocation,removeFromFavouritesHandler:y,loggedIn:L.loggedIn,loginHandler:L.loginHandler,isLoading:e.isLoading,logoutHandler:L.logoutHandler,signUpHandler:L.signUpHandler,loginRegisterErrorMessage:L.loginRegisterErrorMessage,clearErrorMessageHandler:L.clearErrorMessageHandler,isMobile:e.isMobile});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.a.SearchAndFavouriteMobile},r.a.createElement(f.a,{isMobile:e.isMobile,click:e.clicked,searchHandler:e.searchHandler}),H,r.a.createElement(h.a,{style:S,onClick:function(){return e.clickRemoveSearch(e.history)},icon:E.f})),r.a.createElement("div",null,M))}),y=r.a.lazy(function(){return t.e(0).then(t.bind(null,342))}),S=r.a.lazy(function(){return t.e(8).then(t.bind(null,344))}),H=r.a.lazy(function(){return t.e(1).then(t.bind(null,343))});a.default=function(e){var a=r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{current:e.current,location:e.location})),t=r.a.createElement(r.a.Fragment,null,a,r.a.createElement(n.Suspense,{fallback:r.a.createElement(u.a,null)},r.a.createElement(H,{handleContactFormSubmit:e.handleContactFormSubmit})),r.a.createElement(c.a,null)),s=e.isLoading?r.a.createElement(u.a,null):r.a.createElement(n.Suspense,{fallback:r.a.createElement(u.a,null)},r.a.createElement(S,{forecast:e.forecast,hourlyForecastData:e.hourlyForecastData[e.lastSelectedDay],lastSelectedDay:e.lastSelectedDay,dayClicked:e.clickOneDayForecastHandler,deleteLastVisited:e.deleteLastVisited,location:e.location})),d=r.a.createElement(r.a.Fragment,null,a,r.a.createElement(y,{lastSelectedDay:e.lastSelectedDay,dayClicked:e.dayClicked,forecast:e.forecast,isMobile:e.isMobile}),r.a.createElement(c.a,null));return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(u.a,null)},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/7-days-forecast",exact:!0,render:function(){return d}}),r.a.createElement(l.a,{path:"/14-days-forecast",exact:!0,render:function(){return d}}),r.a.createElement(l.a,{path:"/7-days-forecast/:id",exact:!0,render:function(){return s}}),r.a.createElement(l.a,{path:"/search",render:function(){return r.a.createElement(L,{clicked:e.clicked,searchHandler:e.searchHandler,clickRemoveSearch:e.clickRemoveSearch,lastVisited:e.lastVisited,searchQuery:e.searchQuery,onSelectLocation:e.selectLocation,deleteLastVisited:e.deleteLastVisited,isMobile:e.isMobile})}}),r.a.createElement(l.a,{path:"/contact",exact:!0,render:function(){return t}}),r.a.createElement(l.a,{path:"/account",render:function(){return r.a.createElement(r.a.Fragment,null,a,r.a.createElement(i.a,{isOpen:!0,isMobile:e.isMobile}))}}),r.a.createElement(l.a,{path:"/",render:function(){return d}}))))}}}]);
//# sourceMappingURL=5.27357961.chunk.js.map